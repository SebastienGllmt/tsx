"use strict";var je=Object.defineProperty;var o=(e,u)=>je(e,"name",{value:u,configurable:!0});var Du=require("node:os"),ke=require("tty"),Le=require("esbuild"),We=require("./package-DFhNfR4f.cjs"),I=require("./get-pipe-path-BoR10qr8.cjs"),Ru=require("node:url"),Me=require("child_process"),_=require("path"),w=require("fs"),q=require("./node-features-roYmp9jK.cjs"),ze=require("node:path"),B=require("fs/promises"),He=require("events"),qe=require("stream"),Ge=require("os"),Ue=require("node:net"),nu=require("node:fs"),Ye=require("./temporary-directory-B83uKxJF.cjs");require("module");function Ke(e){var u=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var D=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(u,t,D.get?D:{enumerable:!0,get:o(function(){return e[t]},"get")})}}),u.default=e,Object.freeze(u)}o(Ke,"_interopNamespaceDefault");var C=Ke(_);const Ve="known-flag",Je="unknown-flag",Ze="argument",{stringify:N}=JSON,Xe=/\B([A-Z])/g,Qe=o(e=>e.replace(Xe,"-$1").toLowerCase(),"v$1"),{hasOwnProperty:ut}=Object.prototype,j=o((e,u)=>ut.call(e,u),"w$2"),et=o(e=>Array.isArray(e),"L$2"),Tu=o(e=>typeof e=="function"?[e,!1]:et(e)?[e[0],!0]:Tu(e.type),"b$2"),tt=o((e,u)=>e===Boolean?u!=="false":u,"d$2"),Dt=o((e,u)=>typeof u=="boolean"?u:e===Number&&u===""?Number.NaN:e(u),"m$1"),nt=/[\s.:=]/,st=o(e=>{const u=`Flag name ${N(e)}`;if(e.length===0)throw new Error(`${u} cannot be empty`);if(e.length===1)throw new Error(`${u} must be longer than a character`);const t=e.match(nt);if(t)throw new Error(`${u} cannot contain ${N(t?.[0])}`)},"B"),rt=o(e=>{const u={},t=o((D,n)=>{if(j(u,D))throw new Error(`Duplicate flags named ${N(D)}`);u[D]=n},"r");for(const D in e){if(!j(e,D))continue;st(D);const n=e[D],s=[[],...Tu(n),n];t(D,s);const i=Qe(D);if(D!==i&&t(i,s),"alias"in n&&typeof n.alias=="string"){const{alias:r}=n,a=`Flag alias ${N(r)} for flag ${N(D)}`;if(r.length===0)throw new Error(`${a} cannot be empty`);if(r.length>1)throw new Error(`${a} must be a single character`);t(r,s)}}return u},"K$1"),it=o((e,u)=>{const t={};for(const D in e){if(!j(e,D))continue;const[n,,s,i]=u[D];if(n.length===0&&"default"in i){let{default:r}=i;typeof r=="function"&&(r=r()),t[D]=r}else t[D]=s?n:n.pop()}return t},"_$2"),G="--",ot=/[.:=]/,at=/^-{1,2}\w/,lt=o(e=>{if(!at.test(e))return;const u=!e.startsWith(G);let t=e.slice(u?1:2),D;const n=t.match(ot);if(n){const{index:s}=n;D=t.slice(s+1),t=t.slice(0,s)}return[t,D,u]},"N"),ct=o((e,{onFlag:u,onArgument:t})=>{let D;const n=o((s,i)=>{if(typeof D!="function")return!0;D(s,i),D=void 0},"o");for(let s=0;s<e.length;s+=1){const i=e[s];if(i===G){n();const a=e.slice(s+1);t?.(a,[s],!0);break}const r=lt(i);if(r){if(n(),!u)continue;const[a,l,h]=r;if(h)for(let f=0;f<a.length;f+=1){n();const c=f===a.length-1;D=u(a[f],c?l:void 0,[s,f+1,c])}else D=u(a,l,[s])}else n(i,[s])&&t?.([i],[s])}n()},"$$1"),ht=o((e,u)=>{for(const[t,D,n]of u.reverse()){if(D){const s=e[t];let i=s.slice(0,D);if(n||(i+=s.slice(D+1)),i!=="-"){e[t]=i;continue}}e.splice(t,1)}},"E"),Ou=o((e,u=process.argv.slice(2),{ignore:t}={})=>{const D=[],n=rt(e),s={},i=[];return i[G]=[],ct(u,{onFlag(r,a,l){const h=j(n,r);if(!t?.(h?Ve:Je,r,a)){if(h){const[f,c]=n[r],d=tt(c,a),F=o((E,m)=>{D.push(l),m&&D.push(m),f.push(Dt(c,E||""))},"p");return d===void 0?F:F(d)}j(s,r)||(s[r]=[]),s[r].push(a===void 0?!0:a),D.push(l)}},onArgument(r,a,l){t?.(Ze,u[a[0]])||(i.push(...r),l?(i[G]=r,u.splice(a[0])):D.push(a))}}),ht(u,D),{flags:it(e,n),unknownFlags:s,_:i}},"U$2");var ft=Object.create,U=Object.defineProperty,dt=Object.defineProperties,Ft=Object.getOwnPropertyDescriptor,Ct=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertyNames,Iu=Object.getOwnPropertySymbols,pt=Object.getPrototypeOf,Nu=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ju=o((e,u,t)=>u in e?U(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,"W$1"),Y=o((e,u)=>{for(var t in u||(u={}))Nu.call(u,t)&&ju(e,t,u[t]);if(Iu)for(var t of Iu(u))gt.call(u,t)&&ju(e,t,u[t]);return e},"p"),su=o((e,u)=>dt(e,Ct(u)),"c"),mt=o(e=>U(e,"__esModule",{value:!0}),"nD"),wt=o((e,u)=>()=>(e&&(u=e(e=0)),u),"rD"),Bt=o((e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),"iD"),yt=o((e,u,t,D)=>{if(u&&typeof u=="object"||typeof u=="function")for(let n of Et(u))!Nu.call(e,n)&&n!=="default"&&U(e,n,{get:o(()=>u[n],"get"),enumerable:!(D=Ft(u,n))||D.enumerable});return e},"oD"),At=o((e,u)=>yt(mt(U(e!=null?ft(pt(e)):{},"default",{value:e,enumerable:!0})),e),"BD"),g=wt(()=>{}),_t=Bt((e,u)=>{g(),u.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});g(),g(),g();var bt=o(e=>{var u,t,D;let n=(u=process.stdout.columns)!=null?u:Number.POSITIVE_INFINITY;return typeof e=="function"&&(e=e(n)),e||(e={}),Array.isArray(e)?{columns:e,stdoutColumns:n}:{columns:(t=e.columns)!=null?t:[],stdoutColumns:(D=e.stdoutColumns)!=null?D:n}},"v");g(),g(),g(),g(),g();function vt({onlyFirst:e=!1}={}){let u=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(u,e?void 0:"g")}o(vt,"w$1");function ku(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(vt(),"")}o(ku,"d$1"),g();function xt(e){return Number.isInteger(e)?e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141):!1}o(xt,"y$1");var Pt=At(_t());function b(e){if(typeof e!="string"||e.length===0||(e=ku(e),e.length===0))return 0;e=e.replace((0,Pt.default)(),"  ");let u=0;for(let t=0;t<e.length;t++){let D=e.codePointAt(t);D<=31||D>=127&&D<=159||D>=768&&D<=879||(D>65535&&t++,u+=xt(D)?2:1)}return u}o(b,"g");var Lu=o(e=>Math.max(...e.split(`
`).map(b)),"b$1"),St=o(e=>{let u=[];for(let t of e){let{length:D}=t,n=D-u.length;for(let s=0;s<n;s+=1)u.push(0);for(let s=0;s<D;s+=1){let i=Lu(t[s]);i>u[s]&&(u[s]=i)}}return u},"k$1");g();var Wu=/^\d+%$/,Mu={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},$t=o((e,u)=>{var t;let D=[];for(let n=0;n<e.length;n+=1){let s=(t=u[n])!=null?t:"auto";if(typeof s=="number"||s==="auto"||s==="content-width"||typeof s=="string"&&Wu.test(s)){D.push(su(Y({},Mu),{width:s,contentWidth:e[n]}));continue}if(s&&typeof s=="object"){let i=su(Y(Y({},Mu),s),{contentWidth:e[n]});i.horizontalPadding=i.paddingLeft+i.paddingRight,D.push(i);continue}throw new Error(`Invalid column width: ${JSON.stringify(s)}`)}return D},"sD");function Rt(e,u){for(let t of e){let{width:D}=t;if(D==="content-width"&&(t.width=t.contentWidth),D==="auto"){let a=Math.min(20,t.contentWidth);t.width=a,t.autoOverflow=t.contentWidth-a}if(typeof D=="string"&&Wu.test(D)){let a=Number.parseFloat(D.slice(0,-1))/100;t.width=Math.floor(u*a)-(t.paddingLeft+t.paddingRight)}let{horizontalPadding:n}=t,s=1,i=s+n;if(i>=u){let a=i-u,l=Math.ceil(t.paddingLeft/n*a),h=a-l;t.paddingLeft-=l,t.paddingRight-=h,t.horizontalPadding=t.paddingLeft+t.paddingRight}t.paddingLeftString=t.paddingLeft?" ".repeat(t.paddingLeft):"",t.paddingRightString=t.paddingRight?" ".repeat(t.paddingRight):"";let r=u-t.horizontalPadding;t.width=Math.max(Math.min(t.width,r),s)}}o(Rt,"aD");var zu=o(()=>Object.assign([],{columns:0}),"G$1");function Tt(e,u){let t=[zu()],[D]=t;for(let n of e){let s=n.width+n.horizontalPadding;D.columns+s>u&&(D=zu(),t.push(D)),D.push(n),D.columns+=s}for(let n of t){let s=n.reduce((c,d)=>c+d.width+d.horizontalPadding,0),i=u-s;if(i===0)continue;let r=n.filter(c=>"autoOverflow"in c),a=r.filter(c=>c.autoOverflow>0),l=a.reduce((c,d)=>c+d.autoOverflow,0),h=Math.min(l,i);for(let c of a){let d=Math.floor(c.autoOverflow/l*h);c.width+=d,i-=d}let f=Math.floor(i/r.length);for(let c=0;c<r.length;c+=1){let d=r[c];c===r.length-1?d.width+=i:d.width+=f,i-=f}}return t}o(Tt,"lD");function Ot(e,u,t){let D=$t(t,u);return Rt(D,e),Tt(D,e)}o(Ot,"Z$1"),g(),g(),g();var ru=10,Hu=o((e=0)=>u=>`\x1B[${u+e}m`,"U$1"),qu=o((e=0)=>u=>`\x1B[${38+e};5;${u}m`,"V$1"),Gu=o((e=0)=>(u,t,D)=>`\x1B[${38+e};2;${u};${t};${D}m`,"Y");function It(){let e=new Map,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};u.color.gray=u.color.blackBright,u.bgColor.bgGray=u.bgColor.bgBlackBright,u.color.grey=u.color.blackBright,u.bgColor.bgGrey=u.bgColor.bgBlackBright;for(let[t,D]of Object.entries(u)){for(let[n,s]of Object.entries(D))u[n]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},D[n]=u[n],e.set(s[0],s[1]);Object.defineProperty(u,t,{value:D,enumerable:!1})}return Object.defineProperty(u,"codes",{value:e,enumerable:!1}),u.color.close="\x1B[39m",u.bgColor.close="\x1B[49m",u.color.ansi=Hu(),u.color.ansi256=qu(),u.color.ansi16m=Gu(),u.bgColor.ansi=Hu(ru),u.bgColor.ansi256=qu(ru),u.bgColor.ansi16m=Gu(ru),Object.defineProperties(u,{rgbToAnsi256:{value:o((t,D,n)=>t===D&&D===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(D/255*5)+Math.round(n/255*5),"value"),enumerable:!1},hexToRgb:{value:o(t=>{let D=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(t.toString(16));if(!D)return[0,0,0];let{colorString:n}=D.groups;n.length===3&&(n=n.split("").map(i=>i+i).join(""));let s=Number.parseInt(n,16);return[s>>16&255,s>>8&255,s&255]},"value"),enumerable:!1},hexToAnsi256:{value:o(t=>u.rgbToAnsi256(...u.hexToRgb(t)),"value"),enumerable:!1},ansi256ToAnsi:{value:o(t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let D,n,s;if(t>=232)D=((t-232)*10+8)/255,n=D,s=D;else{t-=16;let a=t%36;D=Math.floor(t/36)/5,n=Math.floor(a/6)/5,s=a%6/5}let i=Math.max(D,n,s)*2;if(i===0)return 30;let r=30+(Math.round(s)<<2|Math.round(n)<<1|Math.round(D));return i===2&&(r+=60),r},"value"),enumerable:!1},rgbToAnsi:{value:o((t,D,n)=>u.ansi256ToAnsi(u.rgbToAnsi256(t,D,n)),"value"),enumerable:!1},hexToAnsi:{value:o(t=>u.ansi256ToAnsi(u.hexToAnsi256(t)),"value"),enumerable:!1}}),u}o(It,"AD");var Nt=It(),jt=Nt,K=new Set(["\x1B","\x9B"]),kt=39,iu="\x07",Uu="[",Lt="]",Yu="m",ou=`${Lt}8;;`,Ku=o(e=>`${K.values().next().value}${Uu}${e}${Yu}`,"J$1"),Vu=o(e=>`${K.values().next().value}${ou}${e}${iu}`,"Q"),Wt=o(e=>e.split(" ").map(u=>b(u)),"hD"),au=o((e,u,t)=>{let D=[...u],n=!1,s=!1,i=b(ku(e[e.length-1]));for(let[r,a]of D.entries()){let l=b(a);if(i+l<=t?e[e.length-1]+=a:(e.push(a),i=0),K.has(a)&&(n=!0,s=D.slice(r+1).join("").startsWith(ou)),n){s?a===iu&&(n=!1,s=!1):a===Yu&&(n=!1);continue}i+=l,i===t&&r<D.length-1&&(e.push(""),i=0)}!i&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},"S$1"),Mt=o(e=>{let u=e.split(" "),t=u.length;for(;t>0&&!(b(u[t-1])>0);)t--;return t===u.length?e:u.slice(0,t).join(" ")+u.slice(t).join("")},"cD"),zt=o((e,u,t={})=>{if(t.trim!==!1&&e.trim()==="")return"";let D="",n,s,i=Wt(e),r=[""];for(let[l,h]of e.split(" ").entries()){t.trim!==!1&&(r[r.length-1]=r[r.length-1].trimStart());let f=b(r[r.length-1]);if(l!==0&&(f>=u&&(t.wordWrap===!1||t.trim===!1)&&(r.push(""),f=0),(f>0||t.trim===!1)&&(r[r.length-1]+=" ",f++)),t.hard&&i[l]>u){let c=u-f,d=1+Math.floor((i[l]-c-1)/u);Math.floor((i[l]-1)/u)<d&&r.push(""),au(r,h,u);continue}if(f+i[l]>u&&f>0&&i[l]>0){if(t.wordWrap===!1&&f<u){au(r,h,u);continue}r.push("")}if(f+i[l]>u&&t.wordWrap===!1){au(r,h,u);continue}r[r.length-1]+=h}t.trim!==!1&&(r=r.map(l=>Mt(l)));let a=[...r.join(`
`)];for(let[l,h]of a.entries()){if(D+=h,K.has(h)){let{groups:c}=new RegExp(`(?:\\${Uu}(?<code>\\d+)m|\\${ou}(?<uri>.*)${iu})`).exec(a.slice(l).join(""))||{groups:{}};if(c.code!==void 0){let d=Number.parseFloat(c.code);n=d===kt?void 0:d}else c.uri!==void 0&&(s=c.uri.length===0?void 0:c.uri)}let f=jt.codes.get(Number(n));a[l+1]===`
`?(s&&(D+=Vu("")),n&&f&&(D+=Ku(f))):h===`
`&&(n&&f&&(D+=Ku(n)),s&&(D+=Vu(s)))}return D},"dD");function Ht(e,u,t){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(D=>zt(D,u,t)).join(`
`)}o(Ht,"T$1");var Ju=o(e=>Array.from({length:e}).fill(""),"X");function qt(e,u){let t=[],D=0;for(let n of e){let s=0,i=n.map(a=>{var l;let h=(l=u[D])!=null?l:"";D+=1,a.preprocess&&(h=a.preprocess(h)),Lu(h)>a.width&&(h=Ht(h,a.width,{hard:!0}));let f=h.split(`
`);if(a.postprocess){let{postprocess:c}=a;f=f.map((d,F)=>c.call(a,d,F))}return a.paddingTop&&f.unshift(...Ju(a.paddingTop)),a.paddingBottom&&f.push(...Ju(a.paddingBottom)),f.length>s&&(s=f.length),su(Y({},a),{lines:f})}),r=[];for(let a=0;a<s;a+=1){let l=i.map(h=>{var f;let c=(f=h.lines[a])!=null?f:"",d=Number.isFinite(h.width)?" ".repeat(h.width-b(c)):"",F=h.paddingLeftString;return h.align==="right"&&(F+=d),F+=c,h.align==="left"&&(F+=d),F+h.paddingRightString}).join("");r.push(l)}t.push(r.join(`
`))}return t.join(`
`)}o(qt,"P");function Gt(e,u){if(!e||e.length===0)return"";let t=St(e),D=t.length;if(D===0)return"";let{stdoutColumns:n,columns:s}=bt(u);if(s.length>D)throw new Error(`${s.length} columns defined, but only ${D} columns found`);let i=Ot(n,s,t);return e.map(r=>qt(i,r)).join(`
`)}o(Gt,"mD"),g();var Ut=["<",">","=",">=","<="];function Yt(e){if(!Ut.includes(e))throw new TypeError(`Invalid breakpoint operator: ${e}`)}o(Yt,"xD");function Kt(e){let u=Object.keys(e).map(t=>{let[D,n]=t.split(" ");Yt(D);let s=Number.parseInt(n,10);if(Number.isNaN(s))throw new TypeError(`Invalid breakpoint value: ${n}`);let i=e[t];return{operator:D,breakpoint:s,value:i}}).sort((t,D)=>D.breakpoint-t.breakpoint);return t=>{var D;return(D=u.find(({operator:n,breakpoint:s})=>n==="="&&t===s||n===">"&&t>s||n==="<"&&t<s||n===">="&&t>=s||n==="<="&&t<=s))==null?void 0:D.value}}o(Kt,"wD");const Vt=o(e=>e.replace(/[\W_]([a-z\d])?/gi,(u,t)=>t?t.toUpperCase():""),"S"),Jt=o(e=>e.replace(/\B([A-Z])/g,"-$1").toLowerCase(),"q"),Zt={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:o(e=>e.trim(),"preprocess")},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function Xt(e){let u=!1;return{type:"table",data:{tableData:Object.keys(e).sort((t,D)=>t.localeCompare(D)).map(t=>{const D=e[t],n="alias"in D;return n&&(u=!0),{name:t,flag:D,flagFormatted:`--${Jt(t)}`,aliasesEnabled:u,aliasFormatted:n?`-${D.alias}`:void 0}}).map(t=>(t.aliasesEnabled=u,[{type:"flagName",data:t},{type:"flagDescription",data:t}])),tableBreakpoints:Zt}}}o(Xt,"D");const Zu=o(e=>!e||(e.version??(e.help?e.help.version:void 0)),"A"),Xu=o(e=>{const u="parent"in e&&e.parent?.name;return(u?`${u} `:"")+e.name},"C");function Qt(e){const u=[];e.name&&u.push(Xu(e));const t=Zu(e)??("parent"in e&&Zu(e.parent));if(t&&u.push(`v${t}`),u.length!==0)return{id:"name",type:"text",data:`${u.join(" ")}
`}}o(Qt,"R");function uD(e){const{help:u}=e;if(!(!u||!u.description))return{id:"description",type:"text",data:`${u.description}
`}}o(uD,"L");function eD(e){const u=e.help||{};if("usage"in u)return u.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(u.usage)?u.usage.join(`
`):u.usage}}:void 0;if(e.name){const t=[],D=[Xu(e)];if(e.flags&&Object.keys(e.flags).length>0&&D.push("[flags...]"),e.parameters&&e.parameters.length>0){const{parameters:n}=e,s=n.indexOf("--"),i=s>-1&&n.slice(s+1).some(r=>r.startsWith("<"));D.push(n.map(r=>r!=="--"?r:i?"--":"[--]").join(" "))}if(D.length>1&&t.push(D.join(" ")),"commands"in e&&e.commands?.length&&t.push(`${e.name} <command>`),t.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:t.join(`
`)}}}}o(eD,"T");function tD(e){return!("commands"in e)||!e.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:e.commands.map(u=>[u.options.name,u.options.help?u.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}o(tD,"_");function DD(e){if(!(!e.flags||Object.keys(e.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:Xt(e.flags),indentBody:0}}}o(DD,"k");function nD(e){const{help:u}=e;if(!u||!u.examples||u.examples.length===0)return;let{examples:t}=u;if(Array.isArray(t)&&(t=t.join(`
`)),t)return{id:"examples",type:"section",data:{title:"Examples:",body:t}}}o(nD,"F");function sD(e){if(!("alias"in e)||!e.alias)return;const{alias:u}=e;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(u)?u.join(", "):u}}}o(sD,"H");const rD=o(e=>[Qt,uD,eD,tD,DD,nD,sD].map(u=>u(e)).filter(Boolean),"U"),iD=ke.WriteStream.prototype.hasColors();class oD{static{o(this,"M")}text(u){return u}bold(u){return iD?`\x1B[1m${u}\x1B[22m`:u.toLocaleUpperCase()}indentText({text:u,spaces:t}){return u.replace(/^/gm," ".repeat(t))}heading(u){return this.bold(u)}section({title:u,body:t,indentBody:D=2}){return`${(u?`${this.heading(u)}
`:"")+(t?this.indentText({text:this.render(t),spaces:D}):"")}
`}table({tableData:u,tableOptions:t,tableBreakpoints:D}){return Gt(u.map(n=>n.map(s=>this.render(s))),D?Kt(D):t)}flagParameter(u){return u===Boolean?"":u===String?"<string>":u===Number?"<number>":Array.isArray(u)?this.flagParameter(u[0]):"<value>"}flagOperator(u){return" "}flagName(u){const{flag:t,flagFormatted:D,aliasesEnabled:n,aliasFormatted:s}=u;let i="";if(s?i+=`${s}, `:n&&(i+="    "),i+=D,"placeholder"in t&&typeof t.placeholder=="string")i+=`${this.flagOperator(u)}${t.placeholder}`;else{const r=this.flagParameter("type"in t?t.type:t);r&&(i+=`${this.flagOperator(u)}${r}`)}return i}flagDefault(u){return JSON.stringify(u)}flagDescription({flag:u}){let t="description"in u?u.description??"":"";if("default"in u){let{default:D}=u;typeof D=="function"&&(D=D()),D&&(t+=` (default: ${this.flagDefault(D)})`)}return t}render(u){if(typeof u=="string")return u;if(Array.isArray(u))return u.map(t=>this.render(t)).join(`
`);if("type"in u&&this[u.type]){const t=this[u.type];if(typeof t=="function")return t.call(this,u.data)}throw new Error(`Invalid node type: ${JSON.stringify(u)}`)}}const lu=/^[\w.-]+$/,{stringify:A}=JSON,aD=/[|\\{}()[\]^$+*?.]/;function cu(e){const u=[];let t,D;for(const n of e){if(D)throw new Error(`Invalid parameter: Spread parameter ${A(D)} must be last`);const s=n[0],i=n[n.length-1];let r;if(s==="<"&&i===">"&&(r=!0,t))throw new Error(`Invalid parameter: Required parameter ${A(n)} cannot come after optional parameter ${A(t)}`);if(s==="["&&i==="]"&&(r=!1,t=n),r===void 0)throw new Error(`Invalid parameter: ${A(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=n.slice(1,-1);const l=a.slice(-3)==="...";l&&(D=n,a=a.slice(0,-3));const h=a.match(aD);if(h)throw new Error(`Invalid parameter: ${A(n)}. Invalid character found ${A(h[0])}`);u.push({name:a,required:r,spread:l})}return u}o(cu,"w");function hu(e,u,t,D){for(let n=0;n<u.length;n+=1){const{name:s,required:i,spread:r}=u[n],a=Vt(s);if(a in e)throw new Error(`Invalid parameter: ${A(s)} is used more than once.`);const l=r?t.slice(n):t[n];if(r&&(n=u.length),i&&(!l||r&&l.length===0))return console.error(`Error: Missing required parameter ${A(s)}
`),D(),process.exit(1);e[a]=l}}o(hu,"b");function lD(e){return e===void 0||e!==!1}o(lD,"W");function Qu(e,u,t,D){const n={...u.flags},s=u.version;s&&(n.version={type:Boolean,description:"Show version"});const{help:i}=u,r=lD(i);r&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const a=Ou(n,D,{ignore:u.ignoreArgv}),l=o(()=>{console.log(u.version)},"f");if(s&&a.flags.version===!0)return l(),process.exit(0);const h=new oD,f=r&&i?.render?i.render:F=>h.render(F),c=o(F=>{const E=rD({...u,...F?{help:F}:{},flags:n});console.log(f(E,h))},"u");if(r&&a.flags.help===!0)return c(),process.exit(0);if(u.parameters){let{parameters:F}=u,E=a._;const m=F.indexOf("--"),O=F.slice(m+1),P=Object.create(null);if(m>-1&&O.length>0){F=F.slice(0,m);const $u=a._["--"];E=E.slice(0,-$u.length||void 0),hu(P,cu(F),E,c),hu(P,cu(O),$u,c)}else hu(P,cu(F),E,c);Object.assign(a._,P)}const d={...a,showVersion:l,showHelp:c};return typeof t=="function"&&t(d),{command:e,...d}}o(Qu,"x");function cD(e,u){const t=new Map;for(const D of u){const n=[D.options.name],{alias:s}=D.options;s&&(Array.isArray(s)?n.push(...s):n.push(s));for(const i of n){if(t.has(i))throw new Error(`Duplicate command name found: ${A(i)}`);t.set(i,D)}}return t.get(e)}o(cD,"z");function ue(e,u,t=process.argv.slice(2)){if(!e)throw new Error("Options is required");if("name"in e&&(!e.name||!lu.test(e.name)))throw new Error(`Invalid script name: ${A(e.name)}`);const D=t[0];if(e.commands&&lu.test(D)){const n=cD(D,e.commands);if(n)return Qu(n.options.name,{...n.options,parent:e},n.callback,t.slice(1))}return Qu(void 0,e,u,t)}o(ue,"Z");function hD(e,u){if(!e)throw new Error("Command options are required");const{name:t}=e;if(e.name===void 0)throw new Error("Command name is required");if(!lu.test(t))throw new Error(`Invalid command name ${JSON.stringify(t)}. Command names must be one word.`);return{options:e,callback:u}}o(hD,"G");var fD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}o(dD,"getDefaultExportFromCjs");var S={exports:{}},fu,ee;function FD(){if(ee)return fu;ee=1,fu=D,D.sync=n;var e=w;function u(s,i){var r=i.pathExt!==void 0?i.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var a=0;a<r.length;a++){var l=r[a].toLowerCase();if(l&&s.substr(-l.length).toLowerCase()===l)return!0}return!1}o(u,"checkPathExt");function t(s,i,r){return!s.isSymbolicLink()&&!s.isFile()?!1:u(i,r)}o(t,"checkStat");function D(s,i,r){e.stat(s,function(a,l){r(a,a?!1:t(l,s,i))})}o(D,"isexe");function n(s,i){return t(e.statSync(s),s,i)}return o(n,"sync"),fu}o(FD,"requireWindows");var du,te;function CD(){if(te)return du;te=1,du=u,u.sync=t;var e=w;function u(s,i,r){e.stat(s,function(a,l){r(a,a?!1:D(l,i))})}o(u,"isexe");function t(s,i){return D(e.statSync(s),i)}o(t,"sync");function D(s,i){return s.isFile()&&n(s,i)}o(D,"checkStat");function n(s,i){var r=s.mode,a=s.uid,l=s.gid,h=i.uid!==void 0?i.uid:process.getuid&&process.getuid(),f=i.gid!==void 0?i.gid:process.getgid&&process.getgid(),c=parseInt("100",8),d=parseInt("010",8),F=parseInt("001",8),E=c|d,m=r&F||r&d&&l===f||r&c&&a===h||r&E&&h===0;return m}return o(n,"checkMode"),du}o(CD,"requireMode");var V;process.platform==="win32"||fD.TESTING_WINDOWS?V=FD():V=CD();var ED=Fu;Fu.sync=pD;function Fu(e,u,t){if(typeof u=="function"&&(t=u,u={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(D,n){Fu(e,u||{},function(s,i){s?n(s):D(i)})})}V(e,u||{},function(D,n){D&&(D.code==="EACCES"||u&&u.ignoreErrors)&&(D=null,n=!1),t(D,n)})}o(Fu,"isexe$1");function pD(e,u){try{return V.sync(e,u||{})}catch(t){if(u&&u.ignoreErrors||t.code==="EACCES")return!1;throw t}}o(pD,"sync");const $=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",De=_,gD=$?";":":",ne=ED,se=o(e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),"getNotFoundError"),re=o((e,u)=>{const t=u.colon||gD,D=e.match(/\//)||$&&e.match(/\\/)?[""]:[...$?[process.cwd()]:[],...(u.path||process.env.PATH||"").split(t)],n=$?u.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=$?n.split(t):[""];return $&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:D,pathExt:s,pathExtExe:n}},"getPathInfo"),ie=o((e,u,t)=>{typeof u=="function"&&(t=u,u={}),u||(u={});const{pathEnv:D,pathExt:n,pathExtExe:s}=re(e,u),i=[],r=o(l=>new Promise((h,f)=>{if(l===D.length)return u.all&&i.length?h(i):f(se(e));const c=D[l],d=/^".*"$/.test(c)?c.slice(1,-1):c,F=De.join(d,e),E=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+F:F;h(a(E,l,0))}),"step"),a=o((l,h,f)=>new Promise((c,d)=>{if(f===n.length)return c(r(h+1));const F=n[f];ne(l+F,{pathExt:s},(E,m)=>{if(!E&&m)if(u.all)i.push(l+F);else return c(l+F);return c(a(l,h,f+1))})}),"subStep");return t?r(0).then(l=>t(null,l),t):r(0)},"which$1"),mD=o((e,u)=>{u=u||{};const{pathEnv:t,pathExt:D,pathExtExe:n}=re(e,u),s=[];for(let i=0;i<t.length;i++){const r=t[i],a=/^".*"$/.test(r)?r.slice(1,-1):r,l=De.join(a,e),h=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let f=0;f<D.length;f++){const c=h+D[f];try{if(ne.sync(c,{pathExt:n}))if(u.all)s.push(c);else return c}catch{}}}if(u.all&&s.length)return s;if(u.nothrow)return null;throw se(e)},"whichSync");var wD=ie;ie.sync=mD;var Cu={exports:{}};const oe=o((e={})=>{const u=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(u).reverse().find(D=>D.toUpperCase()==="PATH")||"Path"},"pathKey");Cu.exports=oe,Cu.exports.default=oe;var BD=Cu.exports;const ae=_,yD=wD,AD=BD;function le(e,u){const t=e.options.env||process.env,D=process.cwd(),n=e.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let i;try{i=yD.sync(e.command,{path:t[AD({env:t})],pathExt:u?ae.delimiter:void 0})}catch{}finally{s&&process.chdir(D)}return i&&(i=ae.resolve(n?e.options.cwd:"",i)),i}o(le,"resolveCommandAttempt");function _D(e){return le(e)||le(e,!0)}o(_D,"resolveCommand$1");var bD=_D,Eu={};const pu=/([()\][%!^"`<>&|;, *?])/g;function vD(e){return e=e.replace(pu,"^$1"),e}o(vD,"escapeCommand");function xD(e,u){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(pu,"^$1"),u&&(e=e.replace(pu,"^$1")),e}o(xD,"escapeArgument"),Eu.command=vD,Eu.argument=xD;var PD=/^#!(.*)/;const SD=PD;var $D=o((e="")=>{const u=e.match(SD);if(!u)return null;const[t,D]=u[0].replace(/#! ?/,"").split(" "),n=t.split("/").pop();return n==="env"?D:D?`${n} ${D}`:n},"shebangCommand$1");const gu=w,RD=$D;function TD(e){const t=Buffer.alloc(150);let D;try{D=gu.openSync(e,"r"),gu.readSync(D,t,0,150,0),gu.closeSync(D)}catch{}return RD(t.toString())}o(TD,"readShebang$1");var OD=TD;const ID=_,ce=bD,he=Eu,ND=OD,jD=process.platform==="win32",kD=/\.(?:com|exe)$/i,LD=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function WD(e){e.file=ce(e);const u=e.file&&ND(e.file);return u?(e.args.unshift(e.file),e.command=u,ce(e)):e.file}o(WD,"detectShebang");function MD(e){if(!jD)return e;const u=WD(e),t=!kD.test(u);if(e.options.forceShell||t){const D=LD.test(u);e.command=ID.normalize(e.command),e.command=he.command(e.command),e.args=e.args.map(s=>he.argument(s,D));const n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}o(MD,"parseNonShell");function zD(e,u,t){u&&!Array.isArray(u)&&(t=u,u=null),u=u?u.slice(0):[],t=Object.assign({},t);const D={command:e,args:u,options:t,file:void 0,original:{command:e,args:u}};return t.shell?D:MD(D)}o(zD,"parse$1");var HD=zD;const mu=process.platform==="win32";function wu(e,u){return Object.assign(new Error(`${u} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${u} ${e.command}`,path:e.command,spawnargs:e.args})}o(wu,"notFoundError");function qD(e,u){if(!mu)return;const t=e.emit;e.emit=function(D,n){if(D==="exit"){const s=fe(n,u);if(s)return t.call(e,"error",s)}return t.apply(e,arguments)}}o(qD,"hookChildProcess");function fe(e,u){return mu&&e===1&&!u.file?wu(u.original,"spawn"):null}o(fe,"verifyENOENT");function GD(e,u){return mu&&e===1&&!u.file?wu(u.original,"spawnSync"):null}o(GD,"verifyENOENTSync");var UD={hookChildProcess:qD,verifyENOENT:fe,verifyENOENTSync:GD,notFoundError:wu};const de=Me,Bu=HD,yu=UD;function Fe(e,u,t){const D=Bu(e,u,t),n=de.spawn(D.command,D.args,D.options);return yu.hookChildProcess(n,D),n}o(Fe,"spawn");function YD(e,u,t){const D=Bu(e,u,t),n=de.spawnSync(D.command,D.args,D.options);return n.error=n.error||yu.verifyENOENTSync(n.status,D),n}o(YD,"spawnSync"),S.exports=Fe,S.exports.spawn=Fe,S.exports.sync=YD,S.exports._parse=Bu,S.exports._enoent=yu;var KD=S.exports,VD=dD(KD);const Ce=o((e,u)=>{const t={...process.env},D=["inherit","inherit","inherit"];process.send&&D.push("ipc"),u&&(u.noCache&&(t.TSX_DISABLE_CACHE="1"),u.tsconfigPath&&(t.TSX_TSCONFIG_PATH=u.tsconfigPath));const n=e.filter(s=>s!=="-i"&&s!=="--interactive").length===0;return VD(process.execPath,["--require",I.require.resolve("./preflight.cjs"),...n?["--require",I.require.resolve("./patch-repl.cjs")]:[],q.isFeatureSupported(q.moduleRegister)?"--import":"--loader",Ru.pathToFileURL(I.require.resolve("./loader.mjs")).toString(),...e],{stdio:D,env:t})},"run");function JD(){return{root:".",fileFilter:o(e=>!0,"fileFilter"),directoryFilter:o(e=>!0,"directoryFilter"),type:Au,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096}}o(JD,"defaultOptions");const Ee="READDIRP_RECURSIVE_ERROR",ZD=new Set(["ENOENT","EPERM","EACCES","ELOOP",Ee]),Au="files",pe="directories",J="files_directories",Z="all",ge=[Au,pe,J,Z],XD=new Set([pe,J,Z]),QD=new Set([Au,J,Z]),un=o(e=>ZD.has(e.code),"isNormalFlowError"),en=process.platform==="win32",me=o(e=>!0,"emptyFn"),we=o(e=>{if(e===void 0)return me;if(typeof e=="function")return e;if(typeof e=="string"){const u=e.trim();return t=>t.basename===u}if(Array.isArray(e)){const u=e.map(t=>t.trim());return t=>u.some(D=>t.basename===D)}return me},"normalizeFilter");class tn extends qe.Readable{static{o(this,"ReaddirpStream")}constructor(u={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:u.highWaterMark});const t={...JD(),...u},{root:D,type:n}=t;this._fileFilter=we(t.fileFilter),this._directoryFilter=we(t.directoryFilter);const s=t.lstat?w.lstatSync:w.statSync;en?this._stat=i=>s(i,{bigint:!0}):this._stat=s,this._maxDepth=t.depth,this._wantsDir=XD.has(n),this._wantsFile=QD.has(n),this._wantsEverything=n===Z,this._root=_.resolve(D),this._isDirent=!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(D,1)],this.reading=!1,this.parent=void 0}async _read(u){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&u>0;){const t=this.parent,D=t&&t.files;if(D&&D.length>0){const{path:n,depth:s}=t,i=D.splice(0,u).map(r=>this._formatEntry(r,n));for(const r of i){if(!r){u--;return}if(this.destroyed)return;const a=await this._getEntryType(r);a==="directory"&&this._directoryFilter(r)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(r.fullPath,s+1)),this._wantsDir&&(this.push(r),u--)):(a==="file"||this._includeAsFile(r))&&this._fileFilter(r)&&this._wantsFile&&(this.push(r),u--)}}else{const n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(u,t){let D;try{D=await B.readdir(u,this._rdOptions)}catch(n){this._onError(n)}return{files:D,depth:t,path:u}}_formatEntry(u,t){let D;const n=this._isDirent?u.name:u;try{const s=_.resolve(_.join(t,n));D={path:_.relative(this._root,s),fullPath:s,basename:n},D[this._statsProp]=this._isDirent?u:this._stat(s)}catch(s){this._onError(s);return}return D}_onError(u){un(u)&&!this.destroyed?this.emit("warn",u):this.destroy(u)}async _getEntryType(u){if(!u&&this._statsProp in u)return"";const t=u[this._statsProp];if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){const D=u.fullPath;try{const n=await B.realpath(D),s=w.lstatSync(n);if(s.isFile())return"file";if(s.isDirectory()){const i=n.length;if(D.startsWith(n)&&D.substr(i,1)===_.sep){const r=new Error(`Circular symlink detected: "${D}" points to "${n}"`);return r.code=Ee,this._onError(r)}return"directory"}}catch(n){return this._onError(n),""}}}_includeAsFile(u){const t=u&&u[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}const Dn=o((e,u={})=>{let t=u.entryType||u.type;if(t==="both"&&(t=J),t&&(u.type=t),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!ge.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${ge.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return u.root=e,new tn(u)},"readdirp"),nn="data",Be="end",sn="close",_u=o(()=>{},"EMPTY_FN"),bu=process.platform,ye=bu==="win32",rn=bu==="darwin",on=bu==="linux",an=Ge.type()==="OS400",p={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},y=p,ln="watch",cn={lstat:B.lstat,stat:B.stat},v="listeners",X="errHandlers",R="rawEmitters",hn=[v,X,R],fn=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),dn=o(e=>fn.has(C.extname(e).slice(1).toLowerCase()),"isBinaryPath"),vu=o((e,u)=>{e instanceof Set?e.forEach(u):u(e)},"foreach"),k=o((e,u,t)=>{let D=e[u];D instanceof Set||(e[u]=D=new Set([D])),D.add(t)},"addAndConvert"),Fn=o(e=>u=>{const t=e[u];t instanceof Set?t.clear():delete e[u]},"clearItem"),L=o((e,u,t)=>{const D=e[u];D instanceof Set?D.delete(t):D===t&&delete e[u]},"delFromSet"),Ae=o(e=>e instanceof Set?e.size===0:!e,"isEmptySet"),Q=new Map;function _e(e,u,t,D,n){const s=o((i,r)=>{t(e),n(i,r,{watchedPath:e}),r&&e!==r&&uu(C.resolve(e,r),v,C.join(e,r))},"handleEvent");try{return w.watch(e,{persistent:u.persistent},s)}catch(i){D(i);return}}o(_e,"createFsWatchInstance");const uu=o((e,u,t,D,n)=>{const s=Q.get(e);s&&vu(s[u],i=>{i(t,D,n)})},"fsWatchBroadcast"),Cn=o((e,u,t,D)=>{const{listener:n,errHandler:s,rawEmitter:i}=D;let r=Q.get(u),a;if(!t.persistent)return a=_e(e,t,n,s,i),a?a.close.bind(a):void 0;if(r)k(r,v,n),k(r,X,s),k(r,R,i);else{if(a=_e(e,t,uu.bind(null,u,v),s,uu.bind(null,u,R)),!a)return;a.on(y.ERROR,async l=>{const h=uu.bind(null,u,X);if(r&&(r.watcherUnusable=!0),ye&&l.code==="EPERM")try{await(await B.open(e,"r")).close(),h(l)}catch{}else h(l)}),r={listeners:n,errHandlers:s,rawEmitters:i,watcher:a},Q.set(u,r)}return()=>{L(r,v,n),L(r,X,s),L(r,R,i),Ae(r.listeners)&&(r.watcher.close(),Q.delete(u),hn.forEach(Fn(r)),r.watcher=void 0,Object.freeze(r))}},"setFsWatchListener"),xu=new Map,En=o((e,u,t,D)=>{const{listener:n,rawEmitter:s}=D;let i=xu.get(u);const r=i&&i.options;return r&&(r.persistent<t.persistent||r.interval>t.interval)&&(w.unwatchFile(u),i=void 0),i?(k(i,v,n),k(i,R,s)):(i={listeners:n,rawEmitters:s,options:t,watcher:w.watchFile(u,t,(a,l)=>{vu(i.rawEmitters,f=>{f(y.CHANGE,u,{curr:a,prev:l})});const h=a.mtimeMs;(a.size!==l.size||h>l.mtimeMs||h===0)&&vu(i.listeners,f=>f(e,a))})},xu.set(u,i)),()=>{L(i,v,n),L(i,R,s),Ae(i.listeners)&&(xu.delete(u),w.unwatchFile(u),i.options=i.watcher=void 0,Object.freeze(i))}},"setFsWatchFileListener");class pn{static{o(this,"NodeFsHandler")}constructor(u){this.fsw=u,this._boundHandleError=t=>u._handleError(t)}_watchWithNodeFs(u,t){const D=this.fsw.options,n=C.dirname(u),s=C.basename(u);this.fsw._getWatchedDir(n).add(s);const r=C.resolve(u),a={persistent:D.persistent};t||(t=_u);let l;if(D.usePolling){const h=D.interval!==D.binaryInterval;a.interval=h&&dn(s)?D.binaryInterval:D.interval,l=En(u,r,a,{listener:t,rawEmitter:this.fsw._emitRaw})}else l=Cn(u,r,a,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return l}_handleFile(u,t,D){if(this.fsw.closed)return;const n=C.dirname(u),s=C.basename(u),i=this.fsw._getWatchedDir(n);let r=t;if(i.has(s))return;const a=o(async(h,f)=>{if(this.fsw._throttle(ln,u,5)){if(!f||f.mtimeMs===0)try{const c=await B.stat(u);if(this.fsw.closed)return;const d=c.atimeMs,F=c.mtimeMs;if((!d||d<=F||F!==r.mtimeMs)&&this.fsw._emit(y.CHANGE,u,c),(rn||on)&&r.ino!==c.ino){this.fsw._closeFile(h),r=c;const E=this._watchWithNodeFs(u,a);E&&this.fsw._addPathCloser(h,E)}else r=c}catch{this.fsw._remove(n,s)}else if(i.has(s)){const c=f.atimeMs,d=f.mtimeMs;(!c||c<=d||d!==r.mtimeMs)&&this.fsw._emit(y.CHANGE,u,f),r=f}}},"listener"),l=this._watchWithNodeFs(u,a);if(!(D&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(u)){if(!this.fsw._throttle(y.ADD,u,0))return;this.fsw._emit(y.ADD,u,t)}return l}async _handleSymlink(u,t,D,n){if(this.fsw.closed)return;const s=u.fullPath,i=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let r;try{r=await B.realpath(D)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(i.has(n)?this.fsw._symlinkPaths.get(s)!==r&&(this.fsw._symlinkPaths.set(s,r),this.fsw._emit(y.CHANGE,D,u.stats)):(i.add(n),this.fsw._symlinkPaths.set(s,r),this.fsw._emit(y.ADD,D,u.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(u,t,D,n,s,i,r){if(u=C.join(u,""),r=this.fsw._throttle("readdir",u,1e3),!r)return;const a=this.fsw._getWatchedDir(D.path),l=new Set;let h=this.fsw._readdirp(u,{fileFilter:o(f=>D.filterPath(f),"fileFilter"),directoryFilter:o(f=>D.filterDir(f),"directoryFilter")});if(h)return h.on(nn,async f=>{if(this.fsw.closed){h=void 0;return}const c=f.path;let d=C.join(u,c);if(l.add(c),!(f.stats.isSymbolicLink()&&await this._handleSymlink(f,u,d,c))){if(this.fsw.closed){h=void 0;return}(c===n||!n&&!a.has(c))&&(this.fsw._incrReadyCount(),d=C.join(s,C.relative(s,d)),this._addToNodeFs(d,t,D,i+1))}}).on(y.ERROR,this._boundHandleError),new Promise((f,c)=>{if(!h)return c();h.once(Be,()=>{if(this.fsw.closed){h=void 0;return}const d=r?r.clear():!1;f(void 0),a.getChildren().filter(F=>F!==u&&!l.has(F)).forEach(F=>{this.fsw._remove(u,F)}),h=void 0,d&&this._handleRead(u,!1,D,n,s,i,r)})})}async _handleDir(u,t,D,n,s,i,r){const a=this.fsw._getWatchedDir(C.dirname(u)),l=a.has(C.basename(u));!(D&&this.fsw.options.ignoreInitial)&&!s&&!l&&this.fsw._emit(y.ADD_DIR,u,t),a.add(C.basename(u)),this.fsw._getWatchedDir(u);let h,f;const c=this.fsw.options.depth;if((c==null||n<=c)&&!this.fsw._symlinkPaths.has(r)){if(!s&&(await this._handleRead(u,D,i,s,u,n,h),this.fsw.closed))return;f=this._watchWithNodeFs(u,(d,F)=>{F&&F.mtimeMs===0||this._handleRead(d,!1,i,s,u,n,h)})}return f}async _addToNodeFs(u,t,D,n,s){const i=this.fsw._emitReady;if(this.fsw._isIgnored(u)||this.fsw.closed)return i(),!1;const r=this.fsw._getWatchHelpers(u);D&&(r.filterPath=a=>D.filterPath(a),r.filterDir=a=>D.filterDir(a));try{const a=await cn[r.statMethod](r.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(r.watchPath,a))return i(),!1;const l=this.fsw.options.followSymlinks;let h;if(a.isDirectory()){const f=C.resolve(u),c=l?await B.realpath(u):u;if(this.fsw.closed||(h=await this._handleDir(r.watchPath,a,t,n,s,r,c),this.fsw.closed))return;f!==c&&c!==void 0&&this.fsw._symlinkPaths.set(f,c)}else if(a.isSymbolicLink()){const f=l?await B.realpath(u):u;if(this.fsw.closed)return;const c=C.dirname(r.watchPath);if(this.fsw._getWatchedDir(c).add(r.watchPath),this.fsw._emit(y.ADD,r.watchPath,a),h=await this._handleDir(c,a,t,n,u,r,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(C.resolve(u),f)}else h=this._handleFile(r.watchPath,a,t);return i(),h&&this.fsw._addPathCloser(u,h),!1}catch(a){if(this.fsw._handleError(a))return i(),u}}}const Pu="/",gn="//",be=".",mn="..",wn="string",Bn=/\\/g,ve=/\/\//,yn=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,An=/^\.[/\\]/;function eu(e){return Array.isArray(e)?e:[e]}o(eu,"arrify");const Su=o(e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp),"isMatcherObject");function _n(e){return typeof e=="function"?e:typeof e=="string"?u=>e===u:e instanceof RegExp?u=>e.test(u):typeof e=="object"&&e!==null?u=>{if(e.path===u)return!0;if(e.recursive){const t=C.relative(e.path,u);return t?!t.startsWith("..")&&!C.isAbsolute(t):!1}return!1}:()=>!1}o(_n,"createPattern");function bn(e){if(typeof e!="string")throw new Error("string expected");e=C.normalize(e),e=e.replace(/\\/g,"/");let u=!1;e.startsWith("//")&&(u=!0);const t=/\/\//;for(;e.match(t);)e=e.replace(t,"/");return u&&(e="/"+e),e}o(bn,"normalizePath");function vn(e,u,t){const D=bn(u);for(let n=0;n<e.length;n++){const s=e[n];if(s(D,t))return!0}return!1}o(vn,"matchPatterns");function xn(e,u){if(e==null)throw new TypeError("anymatch: specify first argument");const D=eu(e).map(n=>_n(n));return(n,s)=>vn(D,n,s)}o(xn,"anymatch");const xe=o(e=>{const u=eu(e).flat();if(!u.every(t=>typeof t===wn))throw new TypeError(`Non-string provided as watch path: ${u}`);return u.map(Se)},"unifyPaths"),Pe=o(e=>{let u=e.replace(Bn,Pu),t=!1;for(u.startsWith(gn)&&(t=!0);u.match(ve);)u=u.replace(ve,Pu);return t&&(u=Pu+u),u},"toUnix"),Se=o(e=>Pe(C.normalize(Pe(e))),"normalizePathToUnix"),$e=o((e="")=>u=>typeof u=="string"?Se(C.isAbsolute(u)?u:C.join(e,u)):u,"normalizeIgnored"),Pn=o((e,u)=>C.isAbsolute(e)?e:C.join(u,e),"getAbsolutePath"),Sn=Object.freeze(new Set);class $n{static{o(this,"DirEntry")}constructor(u,t){this.path=u,this._removeWatcher=t,this.items=new Set}add(u){const{items:t}=this;t&&u!==be&&u!==mn&&t.add(u)}async remove(u){const{items:t}=this;if(!t||(t.delete(u),t.size>0))return;const D=this.path;try{await B.readdir(D)}catch{this._removeWatcher&&this._removeWatcher(C.dirname(D),C.basename(D))}}has(u){const{items:t}=this;if(t)return t.has(u)}getChildren(){const{items:u}=this;return u?[...u.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=_u,this.items=Sn,Object.freeze(this)}}const Rn="stat",Tn="lstat";class On{static{o(this,"WatchHelper")}constructor(u,t,D){this.fsw=D;const n=u;this.path=u=u.replace(An,""),this.watchPath=n,this.fullWatchPath=C.resolve(n),this.dirParts=[],this.dirParts.forEach(s=>{s.length>1&&s.pop()}),this.followSymlinks=t,this.statMethod=t?Rn:Tn}entryPath(u){return C.join(this.watchPath,C.relative(this.watchPath,u.fullPath))}filterPath(u){const{stats:t}=u;if(t&&t.isSymbolicLink())return this.filterDir(u);const D=this.entryPath(u);return this.fsw._isntIgnored(D,t)&&this.fsw._hasReadPermissions(t)}filterDir(u){return this.fsw._isntIgnored(this.entryPath(u),u.stats)}}class In extends He.EventEmitter{static{o(this,"FSWatcher")}constructor(u={}){super(),this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;const t=u.awaitWriteFinish,D={stabilityThreshold:2e3,pollInterval:100},n={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...u,ignored:u.ignored?eu(u.ignored):eu([]),awaitWriteFinish:t===!0?D:typeof t=="object"?{...D,...t}:!1};an&&(n.usePolling=!0),n.atomic===void 0&&(n.atomic=!n.usePolling);const s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){const a=s.toLowerCase();a==="false"||a==="0"?n.usePolling=!1:a==="true"||a==="1"?n.usePolling=!0:n.usePolling=!!a}const i=process.env.CHOKIDAR_INTERVAL;i&&(n.interval=Number.parseInt(i,10));let r=0;this._emitReady=()=>{r++,r>=this._readyCount&&(this._emitReady=_u,this._readyEmitted=!0,process.nextTick(()=>this.emit(p.READY)))},this._emitRaw=(...a)=>this.emit(p.RAW,...a),this._boundRemove=this._remove.bind(this),this.options=n,this._nodeFsHandler=new pn(this),Object.freeze(n)}_addIgnoredPath(u){if(Su(u)){for(const t of this._ignoredPaths)if(Su(t)&&t.path===u.path&&t.recursive===u.recursive)return}this._ignoredPaths.add(u)}_removeIgnoredPath(u){if(this._ignoredPaths.delete(u),typeof u=="string")for(const t of this._ignoredPaths)Su(t)&&t.path===u&&this._ignoredPaths.delete(t)}add(u,t,D){const{cwd:n}=this.options;this.closed=!1,this._closePromise=void 0;let s=xe(u);return n&&(s=s.map(i=>Pn(i,n))),s.forEach(i=>{this._removeIgnoredPath(i)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=s.length,Promise.all(s.map(async i=>{const r=await this._nodeFsHandler._addToNodeFs(i,!D,void 0,0,t);return r&&this._emitReady(),r})).then(i=>{this.closed||i.forEach(r=>{r&&this.add(C.dirname(r),C.basename(t||r))})}),this}unwatch(u){if(this.closed)return this;const t=xe(u),{cwd:D}=this.options;return t.forEach(n=>{!C.isAbsolute(n)&&!this._closers.has(n)&&(D&&(n=C.join(D,n)),n=C.resolve(n)),this._closePath(n),this._addIgnoredPath(n),this._watched.has(n)&&this._addIgnoredPath({path:n,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();const u=[];return this._closers.forEach(t=>t.forEach(D=>{const n=D();n instanceof Promise&&u.push(n)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=u.length?Promise.all(u).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const u={};return this._watched.forEach((t,D)=>{const s=(this.options.cwd?C.relative(this.options.cwd,D):D)||be;u[s]=t.getChildren().sort()}),u}emitWithAll(u,t){this.emit(...t),u!==p.ERROR&&this.emit(p.ALL,...t)}async _emit(u,t,D){if(this.closed)return;const n=this.options;ye&&(t=C.normalize(t)),n.cwd&&(t=C.relative(n.cwd,t));const s=[u,t];D!=null&&s.push(D);const i=n.awaitWriteFinish;let r;if(i&&(r=this._pendingWrites.get(t)))return r.lastChange=new Date,this;if(n.atomic){if(u===p.UNLINK)return this._pendingUnlinks.set(t,s),setTimeout(()=>{this._pendingUnlinks.forEach((a,l)=>{this.emit(...a),this.emit(p.ALL,...a),this._pendingUnlinks.delete(l)})},typeof n.atomic=="number"?n.atomic:100),this;u===p.ADD&&this._pendingUnlinks.has(t)&&(u=s[0]=p.CHANGE,this._pendingUnlinks.delete(t))}if(i&&(u===p.ADD||u===p.CHANGE)&&this._readyEmitted){const a=o((l,h)=>{l?(u=s[0]=p.ERROR,s[1]=l,this.emitWithAll(u,s)):h&&(s.length>2?s[2]=h:s.push(h),this.emitWithAll(u,s))},"awfEmit");return this._awaitWriteFinish(t,i.stabilityThreshold,u,a),this}if(u===p.CHANGE&&!this._throttle(p.CHANGE,t,50))return this;if(n.alwaysStat&&D===void 0&&(u===p.ADD||u===p.ADD_DIR||u===p.CHANGE)){const a=n.cwd?C.join(n.cwd,t):t;let l;try{l=await B.stat(a)}catch{}if(!l||this.closed)return;s.push(l)}return this.emitWithAll(u,s),this}_handleError(u){const t=u&&u.code;return u&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(p.ERROR,u),u||this.closed}_throttle(u,t,D){this._throttled.has(u)||this._throttled.set(u,new Map);const n=this._throttled.get(u);if(!n)throw new Error("invalid throttle");const s=n.get(t);if(s)return s.count++,!1;let i;const r=o(()=>{const l=n.get(t),h=l?l.count:0;return n.delete(t),clearTimeout(i),l&&clearTimeout(l.timeoutObject),h},"clear");i=setTimeout(r,D);const a={timeoutObject:i,clear:r,count:0};return n.set(t,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(u,t,D,n){const s=this.options.awaitWriteFinish;if(typeof s!="object")return;const i=s.pollInterval;let r,a=u;this.options.cwd&&!C.isAbsolute(u)&&(a=C.join(this.options.cwd,u));const l=new Date,h=this._pendingWrites;function f(c){w.stat(a,(d,F)=>{if(d||!h.has(u)){d&&d.code!=="ENOENT"&&n(d);return}const E=Number(new Date);c&&F.size!==c.size&&(h.get(u).lastChange=E);const m=h.get(u);E-m.lastChange>=t?(h.delete(u),n(void 0,F)):r=setTimeout(f,i,F)})}o(f,"awaitWriteFinishFn"),h.has(u)||(h.set(u,{lastChange:l,cancelWait:o(()=>(h.delete(u),clearTimeout(r),D),"cancelWait")}),r=setTimeout(f,i))}_isIgnored(u,t){if(this.options.atomic&&yn.test(u))return!0;if(!this._userIgnored){const{cwd:D}=this.options,s=(this.options.ignored||[]).map($e(D)),r=[...[...this._ignoredPaths].map($e(D)),...s];this._userIgnored=xn(r)}return this._userIgnored(u,t)}_isntIgnored(u,t){return!this._isIgnored(u,t)}_getWatchHelpers(u){return new On(u,this.options.followSymlinks,this)}_getWatchedDir(u){const t=C.resolve(u);return this._watched.has(t)||this._watched.set(t,new $n(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(u){return this.options.ignorePermissionErrors?!0:!!(Number(u.mode)&256)}_remove(u,t,D){const n=C.join(u,t),s=C.resolve(n);if(D=D??(this._watched.has(n)||this._watched.has(s)),!this._throttle("remove",n,100))return;!D&&this._watched.size===1&&this.add(u,t,!0),this._getWatchedDir(n).getChildren().forEach(c=>this._remove(n,c));const a=this._getWatchedDir(u),l=a.has(t);a.remove(t),this._symlinkPaths.has(s)&&this._symlinkPaths.delete(s);let h=n;if(this.options.cwd&&(h=C.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites.has(h)&&this._pendingWrites.get(h).cancelWait()===p.ADD)return;this._watched.delete(n),this._watched.delete(s);const f=D?p.UNLINK_DIR:p.UNLINK;l&&!this._isIgnored(n)&&this._emit(f,n),this._closePath(n)}_closePath(u){this._closeFile(u);const t=C.dirname(u);this._getWatchedDir(t).remove(C.basename(u))}_closeFile(u){const t=this._closers.get(u);t&&(t.forEach(D=>D()),this._closers.delete(u))}_addPathCloser(u,t){if(!t)return;let D=this._closers.get(u);D||(D=[],this._closers.set(u,D)),D.push(t)}_readdirp(u,t){if(this.closed)return;const D={type:p.ALL,alwaysStat:!0,lstat:!0,...t,depth:0};let n=Dn(u,D);return this._streams.add(n),n.once(sn,()=>{n=void 0}),n.once(Be,()=>{n&&(this._streams.delete(n),n=void 0)}),n}}function Nn(e,u={}){const t=new In(u);return t.add(e),t}o(Nn,"watch");let x=!0;const T=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let W=0;if(T.process&&T.process.env&&T.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:u,NO_COLOR:t,TERM:D,COLORTERM:n}=T.process.env;u||t||e==="0"?x=!1:e==="1"||e==="2"||e==="3"?x=!0:D==="dumb"?x=!1:"CI"in T.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in T.process.env)?x=!0:x=process.stdout.isTTY,x&&(process.platform==="win32"||n&&(n==="truecolor"||n==="24bit")?W=3:D&&(D.endsWith("-256color")||D.endsWith("256"))?W=2:W=1)}let Re={enabled:x,supportLevel:W};function M(e,u,t=1){const D=`\x1B[${e}m`,n=`\x1B[${u}m`,s=new RegExp(`\\x1b\\[${u}m`,"g");return i=>Re.enabled&&Re.supportLevel>=t?D+(""+i).replace(s,D)+n:""+i}o(M,"kolorist");const z=M(33,39),jn=M(90,39),kn=M(92,39),Ln=M(95,39),Wn=M(96,39),tu=o((e=!0)=>{let u=!1;return t=>{if(u||t==="unknown-flag")return!0;if(t==="argument")return u=!0,e}},"ignoreAfterArgument"),Te=o((e,u=process.argv.slice(2))=>(Ou(e,u,{ignore:tu()}),u),"removeArgvFlags"),Mn=o(e=>{let u=Buffer.alloc(0);return t=>{for(u=Buffer.concat([u,t]);u.length>4;){const D=u.readInt32BE(0);if(u.length>=4+D){const n=u.slice(4,4+D);e(n),u=u.slice(4+D)}else break}}},"bufferData"),Oe=o(async()=>{const e=Ue.createServer(t=>{t.on("data",Mn(D=>{const n=JSON.parse(D.toString());e.emit("data",n)}))}),u=I.getPipePath(process.pid);return await nu.promises.mkdir(Ye.tmpdir,{recursive:!0}),await nu.promises.rm(u,{force:!0}),await new Promise((t,D)=>{e.listen(u,t),e.on("error",D)}),e.unref(),process.on("exit",()=>{if(e.close(),!I.isWindows)try{nu.rmSync(u)}catch{}}),e},"createIpcServer"),zn=o(()=>new Date().toLocaleTimeString(),"currentTime"),H=o((...e)=>console.log(jn(zn()),Wn("[tsx]"),...e),"log"),Hn="\x1Bc",qn=o((e,u)=>{let t;return function(){t&&clearTimeout(t),t=setTimeout(()=>Reflect.apply(e,this,arguments),u)}},"debounce"),Ie={noCache:{type:Boolean,description:"Disable caching",default:!1},tsconfig:{type:String,description:"Custom tsconfig.json path"},clearScreen:{type:Boolean,description:"Clearing the screen on rerun",default:!0},ignore:{type:[String],description:"Paths & globs to exclude from being watched (Deprecated: use --exclude)"},include:{type:[String],description:"Additional paths & globs to watch"},exclude:{type:[String],description:"Paths & globs to exclude from being watched"}},Gn=hD({name:"watch",parameters:["<script path>"],flags:Ie,help:{description:"Run the script and watch for changes"},ignoreArgv:tu(!1)},async e=>{const u=Te(Ie,process.argv.slice(3)),t={noCache:e.flags.noCache,tsconfigPath:e.flags.tsconfig,clearScreen:e.flags.clearScreen,include:e.flags.include,exclude:[...e.flags.ignore,...e.flags.exclude],ipc:!0};let D,n=!1;(await Oe()).on("data",c=>{if(c&&typeof c=="object"&&"type"in c&&c.type==="dependency"&&"path"in c&&typeof c.path=="string"){const d=c.path.startsWith("file:")?Ru.fileURLToPath(c.path):c.path;ze.isAbsolute(d)&&f.add(d)}});const i=o(()=>{if(!n)return Ce(u,t)},"spawnProcess");let r=!1;const a=o(async(c,d="SIGTERM",F=5e3)=>{let E=!1;const m=new Promise(O=>{c.on("exit",P=>{E=!0,r=!1,O(P)})});return r=!0,c.kill(d),setTimeout(()=>{E||(H(z(`Process didn't exit in ${Math.floor(F/1e3)}s. Force killing...`)),c.kill("SIGKILL"))},F),await m},"killProcess"),l=qn(async(c,d)=>{const F=c?`${c?Ln(c):""}${d?` in ${kn(`./${d}`)}`:""}`:"";if(r){H(F,z("Process hasn't exited. Killing process...")),D.kill("SIGKILL");return}D&&(D.exitCode===null?(H(F,z("Restarting...")),await a(D)):H(F,z("Rerunning...")),t.clearScreen&&process.stdout.write(Hn)),D=i()},100);l();const h=o(c=>{n=!0,D?.exitCode===null?(r&&H(z("Previous process hasn't exited yet. Force killing...")),a(D,r?"SIGKILL":c).then(d=>{process.exit(d??0)},()=>{})):process.exit(Du.constants.signals[c])},"relaySignal");process.on("SIGINT",h),process.on("SIGTERM",h);const f=Nn([...e._,...t.include],{cwd:process.cwd(),ignoreInitial:!0,ignored:["**/.*/**","**/.*","**/{node_modules,bower_components,vendor}/**",...t.exclude],ignorePermissionErrors:!0}).on("all",l);process.stdin.on("data",()=>l("Return key"))}),Un=o((e,u)=>{let t;u.on("data",s=>{s&&s.type==="signal"&&t&&t(s.signal)});const D=o(()=>{const s=new Promise(i=>{setTimeout(()=>i(void 0),30),t=i});return s.then(()=>{t=void 0},()=>{}),s},"waitForSignalFromChild"),n=o(async s=>{await D()!==s&&(e.kill(s),await D()!==s&&(e.on("exit",()=>{const a=Du.constants.signals[s];process.exit(128+a)}),e.kill("SIGKILL")))},"relaySignalToChild");process.on("SIGINT",n),process.on("SIGTERM",n)},"relaySignals"),Ne={noCache:{type:Boolean,description:"Disable caching"},tsconfig:{type:String,description:"Custom tsconfig.json path"}};ue({name:"tsx",parameters:["[script path]"],commands:[Gn],flags:{...Ne,version:{type:Boolean,alias:"v",description:"Show version"},help:{type:Boolean,alias:"h",description:"Show help"}},help:!1,ignoreArgv:tu()},async e=>{e.flags.version?process.stdout.write(`tsx v${We.version}
node `):e.flags.help&&(e.showHelp({description:"Node.js runtime enhanced with esbuild for loading TypeScript & ESM"}),console.log(`${"-".repeat(45)}
`));const u={eval:{type:String,alias:"e"},print:{type:String,alias:"p"}},{_:t,flags:D}=ue({flags:{...u,inputType:String,test:Boolean},help:!1,ignoreArgv:tu(!1)}),n=Te({...Ne,...u}),i=["print","eval"].find(l=>!!D[l]);if(i){const{inputType:l}=D,h=D[i],f=Le.transformSync(h,{loader:"default",sourcefile:"/eval.ts",format:l==="module"?"esm":"cjs"});n.unshift(`--${i}`,f.code)}q.isFeatureSupported(q.testRunnerGlob)&&D.test&&t.length===0&&n.push("**/{test,test/**/*,test-*,*[.-_]test}.?(c|m)@(t|j)s");const r=await Oe(),a=Ce(n,{noCache:!!e.flags.noCache,tsconfigPath:e.flags.tsconfig});Un(a,r),process.send&&a.on("message",l=>{process.send(l)}),a.send&&process.on("message",l=>{a.send(l)}),a.on("close",l=>{l===null&&(l=Du.constants.signals[a.signalCode]+128),process.exit(l)})});
